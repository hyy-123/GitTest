<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>前后端交互形式下载数据</title>
    <script src='ajax.js'></script>
    <script>
        // JSON.stringify() 数据结构 => json格式的字符串
        //JSON.parse() json格式的字符串 => 数据结构

        // 1.通过ajax下载数据
        // 2.分析数据，转成对应的数据结构
        // 3.处理数据
        window.onload=function(){
            var oBtn = document.getElementById("btn1");
            oBtn.onclick = function(){
                $ajax({
                    url: "getList.php",
                    success: function(result){
                       // alert(result);
                        var arr = JSON.parse(result);
                        for(var i = 0; i < arr.length; i++){
                            alert(i + "," + arr[i]);
                        }
                        /*var obj = JSON.parse(result);
                            alert(obj.username);
                        */
                    },
                    error: function(msg){
                        alert(msg);
                    }

                })
            }
        }
    </script>
</head>
<body>
    <button id = 'btn1'>下载数据</button>
</body>
</html>
